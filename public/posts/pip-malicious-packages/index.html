<!doctype html><html lang=zh-tw><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.94.2"><title>Pip 藏有惡意套件 | Ryan's blog</title><link rel=stylesheet href=https://prpr.tw/css/simpleness.css><link rel=canonical href=https://prpr.tw/posts/pip-malicious-packages/><link rel=alternate type=application/rss+xml href title="Ryan's blog"><link href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css rel=stylesheet></head><body class=container><nav class=navigation><div class=nav-left><div class="nav-item nav-title"><a href=https://prpr.tw/>Ryan's blog</a></div><div class="nav-item nav-menu"><a href=/categories/coding>Coding</a>
<a href=/categories/hiking>Hiking</a></div></div><div class="nav-item nav-right fontawesome"></div></nav><article class=post><header class=post-header><h1 style=text-align:center>Pip 藏有惡意套件</h1><div class=post-metadata><time datetime=2017-09-25T08:20:05+08:00>September 25, 2017</time> &nbsp;
<i class="fas fa-folder"></i>
<a href=/categories/coding>coding</a>
&nbsp;</div></header><div class=post-text><p>有一段時間了 20170909 的報告
<a href=http://www.nbu.gov.sk/skcsirt-sa-20170909-pypi/>http://www.nbu.gov.sk/skcsirt-sa-20170909-pypi/</a></p><p>某組織發出的研究報告，指出 pip 裡面有若干 package 用很像的名字進行偽裝</p><p>譬如說 <code>crypto</code> -> <code>crypt</code></p><p>偽裝的 package 會在 setup.py 裡面加料，system admin 只要 pip install 就會直接中招</p><p>可以用這個檢查，檢查如果有直接移除重裝即可</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pip list --format<span style=color:#f92672>=</span>legacy | egrep <span style=color:#e6db74>&#39;^(acqusition|apidev-coop|bzip|crypt|django-server|pwd|setup-tools|telnet|urlib3|urllib) &#39;</span>
</span></span></code></pre></div><p><a href=https://stackoverflow.com/questions/44351366/python-3-unable-to-install-crypt-module-successfully>stackoverflow</a> 也有撿到以前的受害者 lol</p><p>值得一提的是，惡意程式碼只會把一些系統資訊傳回在中國的 ip，並加上了這段註解，略佛？</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># Welcome Here! :)</span>
</span></span><span style=display:flex><span><span style=color:#75715e># just toy, no harm :)</span>
</span></span></code></pre></div></div><footer class=post-footer><div class=post-tags><i class="fas fa-tags"></i>
<a href=/tags/python>Python</a>
&nbsp;</div><div class=related-posts><h4>Related Posts</h4><i class="fas fa-paperclip"></i>
<a href=/posts/google-takeout/>根據標籤下載 gmail 備份</a><br><i class="fas fa-paperclip"></i>
<a href=/posts/python-xml-vulnerabilities/>python xml vulnerabilities</a><br></div></footer><div class=comments><div class=comments></div></div></article><div class=foot>&copy; - 2022 &#183;
<a href=/>Ryan's blog</a> &#183;
Theme <a href=https://github.com/RainerChiang/simpleness>Simpleness</a> Powered by <a href=https://gohugo.io/>Hugo</a> &#183;
<a href=#><i class="fas fa-chevron-up"></i></a></div></body></html>