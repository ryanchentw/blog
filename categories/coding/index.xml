<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>coding on Ryan's blog</title><link>https://blog.prpr.tw/categories/coding/</link><description>Recent content in coding on Ryan's blog</description><generator>Hugo -- gohugo.io</generator><language>zh-TW</language><lastBuildDate>Sat, 18 Jun 2022 11:52:41 +0800</lastBuildDate><atom:link href="https://blog.prpr.tw/categories/coding/index.xml" rel="self" type="application/rss+xml"/><item><title>抓網站內容做成電子書 (epub)</title><link>https://blog.prpr.tw/posts/create_epub_from_website/</link><pubDate>Sat, 18 Jun 2022 11:52:41 +0800</pubDate><guid>https://blog.prpr.tw/posts/create_epub_from_website/</guid><description>買了 BOOX note5 之後, 覺得電子紙螢幕呈現效果真舒服, 所有要長時間閱讀的東西都想丟進去. 另外發現雖然系統用 Android 11, 理論上可以裝所有 Android App, 包含瀏覽器, 不過在裝了一堆 App 發現都是虛幻, 排版與文字呈現還是用 epub 格式最好.
本次範例使用 EbookLib, requests
以及 mark_mew 大大的關於我幫新公司建立整套部屬流程那檔事 為範例 感謝 mark_mew 大大分享自身經驗
另外粗粗產生出來的 epub 還是有很多排版問題要修, 像是圖片不見了, script tag 跑出來了, 在過一層 strip_tags 應該會好一點. 看來最適合的還是轉小說進去 (?
這次網頁數量不多用 requests 抓抓就好, 就不寫 scrapy 了, 抓別人網站注意禮貌
程式分成四段, 第四段跟 ebooklib 範例程式只有差異在產生 sections 部分
抓內容網址 抓內容 -&amp;gt; local file 建立章節 寫成 epub from ebooklib import epub from lxml.html import fromstring from tqdm import tqdm import os import requests # 抓內容的網址 urls = [] headers={ &amp;#34;User-Agent&amp;#34;: &amp;#34;Mozilla/5.</description></item><item><title>Download s3 partial results</title><link>https://blog.prpr.tw/posts/download_s3_partial_results/</link><pubDate>Mon, 21 Dec 2020 11:33:36 +0800</pubDate><guid>https://blog.prpr.tw/posts/download_s3_partial_results/</guid><description>S3 does support the HTTP range request
It’s useful when you want the partial lines from a big file.
By aws s3 command line
aws s3api get-object --range bytes=0-10000 --bucket=[BUCKET] --key=[KEY] partial_results</description></item><item><title>Jupyterlab With System Monitor</title><link>https://blog.prpr.tw/posts/jupyterlab-with-system-monitor/</link><pubDate>Sat, 28 Nov 2020 21:33:42 +0800</pubDate><guid>https://blog.prpr.tw/posts/jupyterlab-with-system-monitor/</guid><description>Try to switch to jupterlab, the cpu/mem graph looks greeeat. https://github.com/jtpio/jupyterlab-system-monitor
But install n-times, the graph still no showing.
Thanks my colleague Bill, indicate the version issue of nbresuse
Reinstall the package, finally works!
$ brew install node $ pip install jupyterlab $ pip install nbresuse==0.3.6 $ jupyter labextension install jupyterlab-topbar-extension jupyterlab-system-monitor $ jupyter notebook --generate-config Generate the jupyter config and fill the display config
c.NotebookApp.ResourceUseDisplay.mem_limit = 16 * 1024 ** 3 c.</description></item><item><title>Learning the Norman Layout 4 months</title><link>https://blog.prpr.tw/posts/learning-the-norman-layout-4-months/</link><pubDate>Sun, 14 Jul 2019 21:57:44 +0800</pubDate><guid>https://blog.prpr.tw/posts/learning-the-norman-layout-4-months/</guid><description>About 4 months after changing the typing layout to Norman. I think I will type with Norman last a long time (unless I&amp;rsquo;m interesting w/ another one).
I forgot QWERTY Typing bopomofo (Chinese typing, and it&amp;rsquo;s interesting story is another challenge on ErgoDox, so first, I flash my ErgoDox&amp;rsquo;s firmware to use Norman, then I can still type bopomofo on my laptop&amp;rsquo;s keyboard. I will have some time will type with QWERTY.</description></item><item><title>Learning the Norman Layout 2 weeks</title><link>https://blog.prpr.tw/posts/learning-norman-layout-week2/</link><pubDate>Sat, 23 Mar 2019 10:06:48 +0800</pubDate><guid>https://blog.prpr.tw/posts/learning-norman-layout-week2/</guid><description>My shoulder One day I&amp;rsquo;m looking for a split keyboard try to make my shoulder feel better at work.
I need to keep the round shoulder posture almost all day. Make my body curl and back pain sometimes.
What I found is ErgoDox EZ, and received my new keyboard after 10 days.
ErgoDox ErgoDox is a split, ortholinear, fully programmable keyboard with thumb key matrix. So you can put any keys on any position to facilitate the thumb usage.</description></item><item><title>Terminal Notify</title><link>https://blog.prpr.tw/posts/terminal-notify/</link><pubDate>Tue, 26 Dec 2017 09:57:45 +0800</pubDate><guid>https://blog.prpr.tw/posts/terminal-notify/</guid><description>&lt;p>最近公司 build tool 因為專案爆肥越來越慢，build code 要花個十分鐘左右，不太行啊， ~泡咖啡時間變長了呀逼~&lt;/p></description></item><item><title>Find SQL injection in Python code</title><link>https://blog.prpr.tw/posts/find-sql-injection-in-python-code/</link><pubDate>Mon, 11 Dec 2017 10:08:06 +0800</pubDate><guid>https://blog.prpr.tw/posts/find-sql-injection-in-python-code/</guid><description>&lt;p>&lt;a href="https://github.com/uber/py-find-injection">https://github.com/uber/py-find-injection&lt;/a>&lt;/p>
&lt;p>用程式化的方式掃出 code base 沒有乖乖用 paramstyle sql 語句&lt;/p>
&lt;p>&lt;img src="https://i.imgur.com/P18DyHR.jpg" alt="Imgur">&lt;/p></description></item><item><title>MySQL Tuple Comparison Issue</title><link>https://blog.prpr.tw/posts/mysql-tuple-comparison-issue/</link><pubDate>Sat, 09 Dec 2017 13:19:56 +0800</pubDate><guid>https://blog.prpr.tw/posts/mysql-tuple-comparison-issue/</guid><description>&lt;p>MySQL 5.6 tuple comparison bug&lt;/p>
&lt;p>這是一個用 IN clause 比較 primary key 卻得到 full table scan 的故事&lt;/p>
&lt;p>&lt;img src="https://i.imgur.com/LIOTPaT.jpg" alt="Imgur">&lt;/p></description></item><item><title>分分鐘看懂 ABNF 以 language tag 為例</title><link>https://blog.prpr.tw/posts/rfc-5234/</link><pubDate>Mon, 02 Oct 2017 18:54:14 +0800</pubDate><guid>https://blog.prpr.tw/posts/rfc-5234/</guid><description>&lt;p>Code review 的時候熊熊想戰 naming，戰 naming 最好的就是翻相關的 rfc spec&lt;/p></description></item><item><title>Pip 藏有惡意套件</title><link>https://blog.prpr.tw/posts/pip-malicious-packages/</link><pubDate>Mon, 25 Sep 2017 08:20:05 +0800</pubDate><guid>https://blog.prpr.tw/posts/pip-malicious-packages/</guid><description>&lt;p>有一段時間了 20170909 的報告
&lt;a href="http://www.nbu.gov.sk/skcsirt-sa-20170909-pypi/">http://www.nbu.gov.sk/skcsirt-sa-20170909-pypi/&lt;/a>&lt;/p></description></item><item><title>根據標籤下載 gmail 備份</title><link>https://blog.prpr.tw/posts/google-takeout/</link><pubDate>Sun, 24 Sep 2017 20:08:08 +0800</pubDate><guid>https://blog.prpr.tw/posts/google-takeout/</guid><description>&lt;p>最近剛好有一些處理 email 資料的需求，要從一堆 exception mail 裡面撈出一些 id。&lt;/p></description></item><item><title>python xml vulnerabilities</title><link>https://blog.prpr.tw/posts/python-xml-vulnerabilities/</link><pubDate>Mon, 13 Mar 2017 18:00:32 +0800</pubDate><guid>https://blog.prpr.tw/posts/python-xml-vulnerabilities/</guid><description>&lt;blockquote>
&lt;p>It&amp;rsquo;s just XML, what could probably go wrong? - Christian Heimes&lt;/p>
&lt;/blockquote></description></item></channel></rss>